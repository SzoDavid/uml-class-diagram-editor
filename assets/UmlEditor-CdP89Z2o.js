import{d as W,D as x,C as ee,a as be,V as ce,u as F,r as D,w as h,M as _,f as Y,P as Ve,O as Ee,b as ge,_ as j,c as E,e as t,g as n,F as w,h as v,o as u,i as k,j as Q,k as U,n as B,l as O,t as N,m as $,p as te,q as ae,A as le,s as ke,v as ne,G as oe,B as ie,x as z,N as Ue,U as I,y as Ne,z as Ce,R as Me,E as Se,S as we,H as Ae,I as de,J as X,K as J,L as Z,Q as me,T as Pe,W as Oe,X as pe,Y as fe,Z as ye,$ as H}from"./index-D0027zZw.js";const Te=W({props:{classifierData:{type:Object,required:!0}},emits:["save"],computed:{DataTypeNode(){return x},ClassNode(){return ee},ClassStereotype(){return be},Visibility(){return ce}},setup(e,{emit:a}){const{t:C}=F(),r=D(e.classifierData);let M=[];return h(()=>e.classifierData,d=>{r.value=d},{immediate:!0}),h(r,d=>{d&&(M=d.instance.validate())},{immediate:!0,deep:!0}),{data:r,onSave:()=>{a("save",r.value)},onAddClicked:(d,b="")=>{if(!(r.value===null||r.value.type!=="classifier"))switch(d){case"prop":{const m=new ge("");m.multiplicity=new _(null),r.value.instance.properties.push(m);break}case"operation":{const m=new Ee("");m.returnMultiplicity=new _(null),r.value.instance.operations.push(m);break}case"param":{if(typeof b!="number")return;const m=new Ve("","");m.multiplicity=new _(null),r.value.instance.operations[b].params.push(m);break}}},onRemoveClicked:(d,b,m="")=>{if(typeof b=="number"&&!(r.value===null||r.value.type!=="classifier"))switch(d){case"prop":r.value.instance.properties.splice(b,1);break;case"operation":r.value.instance.operations.splice(b,1);break;case"param":if(typeof m!="number")return;r.value.instance.operations[m].params.splice(b,1);break}},onCollapseClicked:(d,b,m="")=>{if(typeof b!="number"||r.value===null||r.value.type!=="classifier")return null;let A=null;switch(d){case"prop":A=document.getElementById(`property${b}`);break;case"operation":A=document.getElementById(`operation${b}`);break;case"param":if(typeof m!="number")return;A=document.getElementById(`parameter${m}${b}`);break}A&&A.classList.toggle("collapsed")},getError:d=>{if(r.value===null||r.value.type!=="classifier")return null;const b=Y(M,d);return b?C(b):null},t:C}}});function De(e,a,C,r,M,f){const o=v("v-text-field"),p=v("v-expansion-panel-text"),y=v("v-expansion-panel"),c=v("v-checkbox"),d=v("v-select"),b=v("v-expansion-panel-title"),m=v("v-card-text"),A=v("v-card"),T=v("v-btn"),R=v("v-expansion-panels");return u(),E(w,null,[t(y,{title:e.t("appearance")},{default:n(()=>[t(p,null,{default:n(()=>[t(o,{label:"x",modelValue:e.data.instance.x,"onUpdate:modelValue":a[0]||(a[0]=l=>e.data.instance.x=l),modelModifiers:{number:!0},density:"comfortable",type:"number"},null,8,["modelValue"]),t(o,{label:"y",modelValue:e.data.instance.y,"onUpdate:modelValue":a[1]||(a[1]=l=>e.data.instance.y=l),modelModifiers:{number:!0},density:"comfortable",type:"number"},null,8,["modelValue"])]),_:1})]),_:1},8,["title"]),t(y,{title:e.t("detail",2)},{default:n(()=>[t(p,null,{default:n(()=>[t(o,{label:e.t("name"),modelValue:e.data.instance.name,"onUpdate:modelValue":a[2]||(a[2]=l=>e.data.instance.name=l),modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"name"})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","rules"]),e.data.instance instanceof e.ClassNode?(u(),E(w,{key:0},[t(c,{density:"compact",label:e.t("abstract"),modelValue:e.data.instance.hasAbstractFlag,"onUpdate:modelValue":a[3]||(a[3]=l=>e.data.instance.hasAbstractFlag=l)},null,8,["label","modelValue"]),t(d,{label:e.t("class_stereotype.name"),density:"comfortable",modelValue:e.data.instance.stereotype,"onUpdate:modelValue":a[4]||(a[4]=l=>e.data.instance.stereotype=l),items:[{title:"--",value:null},{title:e.t("class_stereotype.auxiliary"),value:e.ClassStereotype.AUXILIARY},{title:e.t("class_stereotype.focus"),value:e.ClassStereotype.FOCUS},{title:e.t("class_stereotype.implementation_class"),value:e.ClassStereotype.IMPLEMENTATION_CLASS},{title:e.t("class_stereotype.metaclass"),value:e.ClassStereotype.METACLASS},{title:e.t("class_stereotype.type"),value:e.ClassStereotype.TYPE},{title:e.t("class_stereotype.utility"),value:e.ClassStereotype.UTILITY}]},null,8,["label","modelValue","items"])],64)):k("",!0)]),_:1})]),_:1},8,["title"]),t(y,{title:e.t("class_property",2)},{default:n(()=>[t(p,null,{default:n(()=>[t(R,{multiple:""},{default:n(()=>[(u(!0),E(w,null,Q(e.data.instance.properties,(l,V)=>(u(),U(y,{id:`property${V}`,key:V},{default:n(()=>[t(b,{class:B({"error-header":e.getError({parameter:"properties",index:V})!==null})},{default:n(()=>[O("span",null,[O("span",null,N(l.prefix),1),O("span",{class:B({underlined:l.isStatic})},N(l.text),3),O("span",null,N(l.postfix),1)])]),_:2},1032,["class"]),t(p,null,{default:n(()=>[e.data.instance instanceof e.DataTypeNode?k("",!0):(u(),U(d,{key:0,label:e.t("visibility.name"),modelValue:l.visibility,"onUpdate:modelValue":s=>l.visibility=s,density:"comfortable",items:[{title:"--",value:null},{title:e.t("visibility.public"),value:e.Visibility.PUBLIC},{title:e.t("visibility.private"),value:e.Visibility.PRIVATE},{title:e.t("visibility.protected"),value:e.Visibility.PROTECTED},{title:e.t("visibility.package"),value:e.Visibility.PACKAGE}]},null,8,["label","modelValue","onUpdate:modelValue","items"])),t(o,{label:e.t("name"),modelValue:l.name,"onUpdate:modelValue":s=>l.name=s,modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"properties",index:V,child:{parameter:"name"}})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","onUpdate:modelValue","rules"]),t(o,{label:e.t("type"),modelValue:l.type,"onUpdate:modelValue":s=>l.type=s,modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"properties",index:V,child:{parameter:"type"}})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","onUpdate:modelValue","rules"]),t(o,{label:e.t("default_value"),modelValue:l.defaultValue,"onUpdate:modelValue":s=>l.defaultValue=s,modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"properties",index:V,child:{parameter:"defaultValue"}})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","onUpdate:modelValue","rules"]),e.data.instance instanceof e.ClassNode&&e.data.instance.stereotype!==e.ClassStereotype.UTILITY?(u(),U(c,{key:1,density:"compact",label:e.t("static_type"),modelValue:l.isStatic,"onUpdate:modelValue":s=>l.isStatic=s},null,8,["label","modelValue","onUpdate:modelValue"])):k("",!0),t(c,{density:"compact",label:e.t("derived"),modelValue:l.isDerived,"onUpdate:modelValue":s=>l.isDerived=s},null,8,["label","modelValue","onUpdate:modelValue"]),t(o,{label:e.t("redefines"),modelValue:l.redefines,"onUpdate:modelValue":s=>l.redefines=s,modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"properties",index:V,child:{parameter:"redefines"}})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","onUpdate:modelValue","rules"]),t(o,{label:e.t("subsets"),modelValue:l.subsets,"onUpdate:modelValue":s=>l.subsets=s,modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"properties",index:V,child:{parameter:"subsets"}})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","onUpdate:modelValue","rules"]),t(d,{label:e.t("modifier",2),modelValue:l.modifiers,"onUpdate:modelValue":s=>l.modifiers=s,density:"comfortable",multiple:"",chips:"",items:[{title:e.t("modifiers.id"),value:"id"},{title:e.t("modifiers.readonly"),value:"readonly"},{title:e.t("modifiers.unique"),value:"unique"},{title:e.t("modifiers.nonunique"),value:"nonunique"},{title:e.t("modifiers.sequence"),value:"sequence"},{title:e.t("modifiers.union"),value:"union"}],rules:[()=>e.getError({parameter:"properties",index:V,child:{parameter:"modifiers"}})??!0]},null,8,["label","modelValue","onUpdate:modelValue","items","rules"]),t(A,{title:e.t("multiplicity"),variant:"tonal",density:"compact"},{default:n(()=>[t(m,null,{default:n(()=>[t(o,{label:e.t("multiplicity_upper"),modelValue:l.multiplicity.upper,"onUpdate:modelValue":s=>l.multiplicity.upper=s,modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"properties",index:V,child:{parameter:"multiplicity",child:{parameter:"upper"}}})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","onUpdate:modelValue","rules"]),t(o,{label:e.t("multiplicity_lower"),modelValue:l.multiplicity.lower,"onUpdate:modelValue":s=>l.multiplicity.lower=s,modelModifiers:{number:!0},rules:[()=>e.getError({parameter:"properties",index:V,child:{parameter:"multiplicity",child:{parameter:"lower"}}})??!0],density:"comfortable",type:"number"},null,8,["label","modelValue","onUpdate:modelValue","rules"])]),_:2},1024)]),_:2},1032,["title"]),t(T,{block:"",class:"rm",onClick:s=>e.onRemoveClicked("prop",V)},{default:n(()=>[$(N(e.t("remove")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["id"]))),128))]),_:1}),t(T,{density:"compact",block:"",onClick:a[5]||(a[5]=l=>e.onAddClicked("prop")),icon:"mdi-plus",rounded:"0"}),t(c,{density:"compact",label:e.t("not_shown_properties"),modelValue:e.data.instance.isNotShownPropertiesExist,"onUpdate:modelValue":a[6]||(a[6]=l=>e.data.instance.isNotShownPropertiesExist=l)},null,8,["label","modelValue"])]),_:1})]),_:1},8,["title"]),t(y,{title:e.t("operation",2)},{default:n(()=>[t(p,null,{default:n(()=>[t(R,{multiple:""},{default:n(()=>[(u(!0),E(w,null,Q(e.data.instance.operations,(l,V)=>(u(),U(y,{id:`operation${V}`,key:V},{default:n(()=>[t(b,{class:B({"error-header":e.getError({parameter:"operations",index:V})!==null})},{default:n(()=>[O("span",null,[O("span",null,N(l.prefix),1),O("span",{class:B({underlined:l.isStatic})},N(l.text),3),O("span",null,N(l.postfix),1)])]),_:2},1032,["class"]),t(p,null,{default:n(()=>[e.data.instance instanceof e.DataTypeNode?k("",!0):(u(),U(d,{key:0,label:e.t("visibility.name"),modelValue:l.visibility,"onUpdate:modelValue":s=>l.visibility=s,density:"comfortable",items:[{title:"--",value:null},{title:e.t("visibility.public"),value:e.Visibility.PUBLIC},{title:e.t("visibility.private"),value:e.Visibility.PRIVATE},{title:e.t("visibility.protected"),value:e.Visibility.PROTECTED},{title:e.t("visibility.package"),value:e.Visibility.PACKAGE}]},null,8,["label","modelValue","onUpdate:modelValue","items"])),t(o,{label:e.t("name"),modelValue:l.name,"onUpdate:modelValue":s=>l.name=s,modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"operations",index:V,child:{parameter:"name"}})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","onUpdate:modelValue","rules"]),t(o,{label:e.t("return_type"),modelValue:l.returnType,"onUpdate:modelValue":s=>l.returnType=s,modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"operations",index:V,child:{parameter:"returnType"}})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","onUpdate:modelValue","rules"]),e.data.instance instanceof e.ClassNode&&e.data.instance.stereotype!==e.ClassStereotype.UTILITY?(u(),E(w,{key:1},[t(c,{density:"compact",label:e.t("static_type"),modelValue:l.isStatic,"onUpdate:modelValue":s=>l.isStatic=s},null,8,["label","modelValue","onUpdate:modelValue"]),t(c,{label:e.t("abstract"),modelValue:l.isAbstract,"onUpdate:modelValue":s=>l.isAbstract=s,rules:[()=>e.getError({parameter:"operations",index:V,child:{parameter:"isAbstract"}})??!0],density:"compact"},null,8,["label","modelValue","onUpdate:modelValue","rules"]),t(o,{label:e.t("redefines"),modelValue:l.redefines,"onUpdate:modelValue":s=>l.redefines=s,modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"operations",index:V,child:{parameter:"redefines"}})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","onUpdate:modelValue","rules"])],64)):k("",!0),t(d,{label:e.t("property",2),modelValue:l.properties,"onUpdate:modelValue":s=>l.properties=s,density:"comfortable",multiple:"",chips:"",items:[{title:e.t("properties.query"),value:"query"},{title:e.t("properties.ordered"),value:"ordered"},{title:e.t("properties.unique"),value:"unique"}],rules:[()=>e.getError({parameter:"operations",index:V,child:{parameter:"properties"}})??!0]},null,8,["label","modelValue","onUpdate:modelValue","items","rules"]),t(A,{title:e.t("return_multiplicity"),variant:"tonal",density:"compact"},{default:n(()=>[t(m,null,{default:n(()=>[t(o,{label:e.t("multiplicity_upper"),modelValue:l.returnMultiplicity.upper,"onUpdate:modelValue":s=>l.returnMultiplicity.upper=s,modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"operations",index:V,child:{parameter:"returnMultiplicity",child:{parameter:"upper"}}})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","onUpdate:modelValue","rules"]),t(o,{label:e.t("multiplicity_lower"),modelValue:l.returnMultiplicity.lower,"onUpdate:modelValue":s=>l.returnMultiplicity.lower=s,modelModifiers:{number:!0},rules:[()=>e.getError({parameter:"operations",index:V,child:{parameter:"returnMultiplicity",child:{parameter:"lower"}}})??!0],density:"comfortable",type:"number"},null,8,["label","modelValue","onUpdate:modelValue","rules"])]),_:2},1024)]),_:2},1032,["title"]),O("p",null,N(e.t("parameter",2)),1),t(R,{multiple:""},{default:n(()=>[(u(!0),E(w,null,Q(l.params,(s,g)=>(u(),U(y,{id:`parameter${V}${g}`,key:g},{default:n(()=>[t(b,{class:B({"error-header":e.getError({parameter:"operations",index:V,child:{parameter:"params",index:g}})!==null})},{default:n(()=>[O("span",null,N(s.toString()),1)]),_:2},1032,["class"]),t(p,null,{default:n(()=>[t(o,{label:e.t("name"),modelValue:s.name,"onUpdate:modelValue":S=>s.name=S,modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"operations",index:V,child:{parameter:"params",index:g,child:{parameter:"name"}}})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","onUpdate:modelValue","rules"]),t(o,{label:e.t("type"),modelValue:s.type,"onUpdate:modelValue":S=>s.type=S,modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"operations",index:V,child:{parameter:"params",index:g,child:{parameter:"type"}}})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","onUpdate:modelValue","rules"]),t(o,{label:e.t("default_value"),modelValue:s.defaultValue,"onUpdate:modelValue":S=>s.defaultValue=S,modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"properties",index:V,child:{parameter:"defaultValue"}})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","onUpdate:modelValue","rules"]),t(d,{label:e.t("direction"),modelValue:s.direction,"onUpdate:modelValue":S=>s.direction=S,density:"comfortable",items:[{title:"--",value:null},{title:e.t("directions.in"),value:"in"},{title:e.t("directions.out"),value:"out"},{title:e.t("directions.inout"),value:"inout"}]},null,8,["label","modelValue","onUpdate:modelValue","items"]),t(d,{label:e.t("property",2),modelValue:s.properties,"onUpdate:modelValue":S=>s.properties=S,density:"comfortable",multiple:"",chips:"",items:[{title:e.t("properties.ordered"),value:"ordered"},{title:e.t("properties.unordered"),value:"unordered"},{title:e.t("properties.unique"),value:"unique"},{title:e.t("properties.nonunique"),value:"nonunique"},{title:e.t("properties.sequence"),value:"sequence"}],rules:[()=>e.getError({parameter:"operations",index:V,child:{parameter:"params",index:g,child:{parameter:"properties"}}})??!0]},null,8,["label","modelValue","onUpdate:modelValue","items","rules"]),t(A,{title:e.t("multiplicity"),variant:"tonal",density:"compact"},{default:n(()=>[t(m,null,{default:n(()=>[t(o,{label:e.t("multiplicity_upper"),modelValue:s.multiplicity.upper,"onUpdate:modelValue":S=>s.multiplicity.upper=S,modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"operations",index:V,child:{parameter:"params",index:g,child:{parameter:"multiplicity",child:{parameter:"upper"}}}})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","onUpdate:modelValue","rules"]),t(o,{label:e.t("multiplicity_lower"),modelValue:s.multiplicity.lower,"onUpdate:modelValue":S=>s.multiplicity.lower=S,modelModifiers:{number:!0},rules:[()=>e.getError({parameter:"operations",index:V,child:{parameter:"params",index:g,child:{parameter:"multiplicity",child:{parameter:"lower"}}}})??!0],density:"comfortable",type:"number"},null,8,["label","modelValue","onUpdate:modelValue","rules"])]),_:2},1024)]),_:2},1032,["title"]),t(T,{block:"",class:"rm",onClick:S=>e.onRemoveClicked("param",g,V)},{default:n(()=>[$(N(e.t("remove")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["id"]))),128))]),_:2},1024),t(T,{density:"compact",block:"",onClick:s=>e.onAddClicked("param",V),icon:"mdi-plus",rounded:"0"},null,8,["onClick"]),t(T,{block:"",class:"rm",onClick:s=>e.onRemoveClicked("operation",V)},{default:n(()=>[$(N(e.t("remove")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["id"]))),128))]),_:1}),t(T,{density:"compact",block:"",onClick:a[7]||(a[7]=l=>e.onAddClicked("operation")),icon:"mdi-plus",rounded:"0"}),t(c,{density:"compact",label:e.t("not_shown_operations"),modelValue:e.data.instance.isNotShownOperationsExist,"onUpdate:modelValue":a[8]||(a[8]=l=>e.data.instance.isNotShownOperationsExist=l)},null,8,["label","modelValue"])]),_:1})]),_:1},8,["title"])],64)}const $e=j(Te,[["render",De],["__scopeId","data-v-7500921e"]]),Ie=W({props:{commentData:{type:Object,required:!0}},emits:["save"],setup(e,{emit:a}){const{t:C}=F(),r=D(e.commentData);let M=[];return h(()=>e.commentData,p=>{r.value=p},{immediate:!0}),h(r,p=>{p&&(M=p.instance.validate())},{immediate:!0,deep:!0}),{t:C,data:r,onSave:()=>{a("save",r.value)},getError:p=>{if(r.value===null||r.value.type!=="comment")return null;const y=Y(M,p);return y?C(y):null}}}});function he(e,a,C,r,M,f){const o=v("v-text-field"),p=v("v-expansion-panel-text"),y=v("v-expansion-panel"),c=v("v-textarea");return u(),E(w,null,[t(y,{title:e.t("appearance")},{default:n(()=>[t(p,null,{default:n(()=>[t(o,{label:"x",modelValue:e.data.instance.x,"onUpdate:modelValue":a[0]||(a[0]=d=>e.data.instance.x=d),modelModifiers:{number:!0},density:"comfortable",type:"number"},null,8,["modelValue"]),t(o,{label:"y",modelValue:e.data.instance.y,"onUpdate:modelValue":a[1]||(a[1]=d=>e.data.instance.y=d),modelModifiers:{number:!0},density:"comfortable",type:"number"},null,8,["modelValue"]),t(o,{label:e.t("width"),modelValue:e.data.instance.width,"onUpdate:modelValue":a[2]||(a[2]=d=>e.data.instance.width=d),modelModifiers:{number:!0},type:"number",density:"comfortable"},null,8,["label","modelValue"])]),_:1})]),_:1},8,["title"]),t(y,{title:e.t("detail",2)},{default:n(()=>[t(p,null,{default:n(()=>[t(c,{label:e.t("node_types.comment"),modelValue:e.data.instance.text,"onUpdate:modelValue":a[3]||(a[3]=d=>e.data.instance.text=d),rules:[()=>e.getError({parameter:"text"})??!0]},null,8,["label","modelValue","rules"])]),_:1})]),_:1},8,["title"])],64)}const Re=j(Ie,[["render",he],["__scopeId","data-v-fbfda690"]]),Le=W({computed:{ConnectionPoint(){return te},Composition(){return ae},Aggregation(){return le},AssociationNavigability(){return ke},Association(){return ne},Generalization(){return oe},BasicConnectionPoint(){return ie},ConnectionPart(){return z}},props:{connectionData:{type:Object,required:!0}},emits:["save","render"],setup(e,{emit:a}){const{t:C}=F(),r=D(e.connectionData);let M=[];return h(()=>e.connectionData,y=>{r.value=y},{immediate:!0}),h(r,y=>{y&&(M=y.instance.validate())},{immediate:!0,deep:!0}),{t:C,data:r,breakConnectionPart:()=>{if(r.value===null||!(r.value.instance instanceof z)){console.error("break connection part is called for invalid node",r.value);return}try{r.value.instance.break()}catch(y){console.error(y)}a("render")},onSave:()=>{a("save",r.value)},getError:y=>{if(r.value===null||r.value.type!=="connection")return null;const c=Y(M,y);return c?C(c):null}}}}),qe={key:0,class:"error-text"},Be={key:0,class:"error-text"},Ge={key:0,class:"error-text"},ze={key:0,class:"error-text"},Fe={key:1,class:"error-text"},je={key:0,class:"error-text"},We={key:0,class:"error-text"},Ye={key:0,class:"error-text"},Ke={key:0,class:"error-text"};function Xe(e,a,C,r,M,f){const o=v("v-text-field"),p=v("v-expansion-panel-text"),y=v("v-expansion-panel"),c=v("v-btn"),d=v("v-checkbox"),b=v("v-card-text"),m=v("v-card"),A=v("v-expansion-panel-title"),T=v("v-select"),R=v("v-expansion-panels");return u(),E(w,null,[e.data.instance instanceof e.BasicConnectionPoint?(u(),U(y,{key:0,title:e.t("appearance")},{default:n(()=>[t(p,null,{default:n(()=>[t(o,{label:"x",modelValue:e.data.instance.x,"onUpdate:modelValue":a[0]||(a[0]=l=>e.data.instance.x=l),modelModifiers:{number:!0},density:"comfortable",type:"number"},null,8,["modelValue"]),t(o,{label:"y",modelValue:e.data.instance.y,"onUpdate:modelValue":a[1]||(a[1]=l=>e.data.instance.y=l),modelModifiers:{number:!0},density:"comfortable",type:"number"},null,8,["modelValue"])]),_:1})]),_:1},8,["title"])):k("",!0),t(y,{title:e.t("detail",2)},{default:n(()=>[t(p,null,{default:n(()=>[e.data.instance instanceof e.ConnectionPart?(u(),U(c,{key:0,block:"",onClick:e.breakConnectionPart,density:"comfortable"},{default:n(()=>[$(N(e.t("add_breakpoint")),1)]),_:1},8,["onClick"])):e.data.instance instanceof e.Association||e.data.instance instanceof e.Aggregation||e.data.instance instanceof e.Generalization||e.data.instance instanceof e.Composition?(u(),E(w,{key:1},[e.getError({parameter:"root"})!==null?(u(),E("p",qe,N(e.t(e.getError({parameter:"root"})??"error.unknown")),1)):k("",!0),e.data.instance instanceof e.Generalization||e.data.instance instanceof e.Composition?(u(),U(d,{key:1,density:"compact",label:e.t("reversed"),modelValue:e.data.instance.reversed,"onUpdate:modelValue":a[2]||(a[2]=l=>e.data.instance.reversed=l)},null,8,["label","modelValue"])):e.data.instance instanceof e.Association?(u(),E(w,{key:2},[t(o,{label:e.t("name"),modelValue:e.data.instance.associationName,"onUpdate:modelValue":a[3]||(a[3]=l=>e.data.instance.associationName=l),modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"associationName"})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","rules"]),e.data.instance.associationName?(u(),U(m,{key:0,title:e.t("label_offset"),variant:"tonal",density:"compact"},{default:n(()=>[t(b,null,{default:n(()=>[t(o,{label:"x",modelValue:e.data.instance.nameOffset.x,"onUpdate:modelValue":a[4]||(a[4]=l=>e.data.instance.nameOffset.x=l),modelModifiers:{number:!0},density:"comfortable",rules:[()=>e.getError({parameter:"nameOffset",child:{parameter:"x"}})??!0],type:"number"},null,8,["modelValue","rules"]),t(o,{label:"y",modelValue:e.data.instance.nameOffset.y,"onUpdate:modelValue":a[5]||(a[5]=l=>e.data.instance.nameOffset.y=l),modelModifiers:{number:!0},density:"comfortable",rules:[()=>e.getError({parameter:"nameOffset",child:{parameter:"y"}})??!0],type:"number"},null,8,["modelValue","rules"])]),_:1})]),_:1},8,["title"])):k("",!0),t(d,{density:"compact",label:e.t("show_ownership"),modelValue:e.data.instance.showOwnership,"onUpdate:modelValue":a[6]||(a[6]=l=>e.data.instance.showOwnership=l)},null,8,["label","modelValue"]),t(d,{density:"compact",label:e.t("reversed"),modelValue:e.data.instance.reversedOwnership,"onUpdate:modelValue":a[7]||(a[7]=l=>e.data.instance.reversedOwnership=l)},null,8,["label","modelValue"])],64)):k("",!0),e.data.instance instanceof e.Association||e.data.instance instanceof e.Aggregation||e.data.instance instanceof e.Composition?(u(),U(R,{key:3,multiple:""},{default:n(()=>[t(y,null,{default:n(()=>[t(A,{class:B({"error-header":e.getError({parameter:"startPoint"})||e.getError({parameter:"startName"})||e.getError({parameter:"startNameOffset"})||e.getError({parameter:"startMultiplicity"})})},{default:n(()=>[$(N(e.t("start_point")),1)]),_:1},8,["class"]),t(p,null,{default:n(()=>[e.getError({parameter:"startPoint"})?(u(),E("p",Be,N(e.t(e.getError({parameter:"startPoint"})??"error.unknown")),1)):k("",!0),t(o,{label:e.t("name"),modelValue:e.data.instance.startName,"onUpdate:modelValue":a[8]||(a[8]=l=>e.data.instance.startName=l),modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"startName"})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","rules"]),e.data.instance.startName?(u(),U(m,{key:1,title:e.t("label_offset"),variant:"tonal",density:"compact"},{default:n(()=>[t(b,null,{default:n(()=>[t(o,{label:"x",modelValue:e.data.instance.startNameOffset.x,"onUpdate:modelValue":a[9]||(a[9]=l=>e.data.instance.startNameOffset.x=l),modelModifiers:{number:!0},rules:[()=>e.getError({parameter:"startNameOffset",child:{parameter:"x"}})??!0],density:"comfortable",type:"number"},null,8,["modelValue","rules"]),t(o,{label:"y",modelValue:e.data.instance.startNameOffset.y,"onUpdate:modelValue":a[10]||(a[10]=l=>e.data.instance.startNameOffset.y=l),modelModifiers:{number:!0},rules:[()=>e.getError({parameter:"startNameOffset",child:{parameter:"y"}})??!0],density:"comfortable",type:"number"},null,8,["modelValue","rules"])]),_:1})]),_:1},8,["title"])):k("",!0),e.data.instance instanceof e.Aggregation?(u(),U(d,{key:2,density:"compact",label:e.t("shared"),modelValue:e.data.instance.isStartShared,"onUpdate:modelValue":a[11]||(a[11]=l=>e.data.instance.isStartShared=l)},null,8,["label","modelValue"])):e.data.instance instanceof e.Association?(u(),U(T,{key:3,label:e.t("navigability.title"),modelValue:e.data.instance.startNavigability,"onUpdate:modelValue":a[12]||(a[12]=l=>e.data.instance.startNavigability=l),density:"comfortable",items:[{title:e.t("navigability.unspecified"),value:e.AssociationNavigability.UNSPECIFIED},{title:e.t("navigability.navigable"),value:e.AssociationNavigability.NAVIGABLE},{title:e.t("navigability.unnavigable"),value:e.AssociationNavigability.UNNAVIGABLE}]},null,8,["label","modelValue","items"])):k("",!0),t(m,{title:e.t("multiplicity"),variant:"tonal",density:"comfortable"},{default:n(()=>[t(b,null,{default:n(()=>[t(o,{label:e.t("multiplicity_upper"),modelValue:e.data.instance.startMultiplicity.upper,"onUpdate:modelValue":a[13]||(a[13]=l=>e.data.instance.startMultiplicity.upper=l),modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"startMultiplicity",child:{parameter:"upper"}})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","rules"]),t(o,{label:e.t("multiplicity_lower"),modelValue:e.data.instance.startMultiplicity.lower,"onUpdate:modelValue":a[14]||(a[14]=l=>e.data.instance.startMultiplicity.lower=l),modelModifiers:{number:!0},rules:[()=>e.getError({parameter:"startMultiplicity",child:{parameter:"lower"}})??!0],density:"comfortable",type:"number"},null,8,["label","modelValue","rules"])]),_:1})]),_:1},8,["title"])]),_:1})]),_:1}),t(y,null,{default:n(()=>[t(A,{class:B({"error-header":e.getError({parameter:"endPoint"})||e.getError({parameter:"endName"})||e.getError({parameter:"endNameOffset"})||e.getError({parameter:"endMultiplicity"})})},{default:n(()=>[$(N(e.t("end_point")),1)]),_:1},8,["class"]),t(p,null,{default:n(()=>[e.getError({parameter:"endPoint"})?(u(),E("p",Ge,N(e.t(e.getError({parameter:"endPoint"})??"error.unknown")),1)):k("",!0),t(o,{label:e.t("name"),modelValue:e.data.instance.endName,"onUpdate:modelValue":a[15]||(a[15]=l=>e.data.instance.endName=l),modelModifiers:{number:!0},rules:[()=>e.getError({parameter:"endName"})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","rules"]),e.data.instance.endName?(u(),U(m,{key:1,title:e.t("label_offset"),variant:"tonal",density:"compact"},{default:n(()=>[t(b,null,{default:n(()=>[t(o,{label:"x",modelValue:e.data.instance.endNameOffset.x,"onUpdate:modelValue":a[16]||(a[16]=l=>e.data.instance.endNameOffset.x=l),modelModifiers:{number:!0},rules:[()=>e.getError({parameter:"endNameOffset",child:{parameter:"x"}})??!0],density:"comfortable",type:"number"},null,8,["modelValue","rules"]),t(o,{label:"y",modelValue:e.data.instance.endNameOffset.y,"onUpdate:modelValue":a[17]||(a[17]=l=>e.data.instance.endNameOffset.y=l),modelModifiers:{number:!0},rules:[()=>e.getError({parameter:"endNameOffset",child:{parameter:"x"}})??!0],density:"comfortable",type:"number"},null,8,["modelValue","rules"])]),_:1})]),_:1},8,["title"])):k("",!0),e.data.instance instanceof e.Aggregation?(u(),U(d,{key:2,density:"compact",label:e.t("shared"),modelValue:e.data.instance.isEndShared,"onUpdate:modelValue":a[18]||(a[18]=l=>e.data.instance.isEndShared=l)},null,8,["label","modelValue"])):e.data.instance instanceof e.Association?(u(),U(T,{key:3,label:e.t("navigability.title"),modelValue:e.data.instance.endNavigability,"onUpdate:modelValue":a[19]||(a[19]=l=>e.data.instance.endNavigability=l),density:"comfortable",items:[{title:e.t("navigability.unspecified"),value:e.AssociationNavigability.UNSPECIFIED},{title:e.t("navigability.navigable"),value:e.AssociationNavigability.NAVIGABLE},{title:e.t("navigability.unnavigable"),value:e.AssociationNavigability.UNNAVIGABLE}]},null,8,["label","modelValue","items"])):k("",!0),t(m,{title:e.t("multiplicity"),variant:"tonal",density:"compact"},{default:n(()=>[t(b,null,{default:n(()=>[t(o,{label:e.t("multiplicity_upper"),modelValue:e.data.instance.endMultiplicity.upper,"onUpdate:modelValue":a[20]||(a[20]=l=>e.data.instance.endMultiplicity.upper=l),modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"endMultiplicity",child:{parameter:"upper"}})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","rules"]),t(o,{label:e.t("multiplicity_lower"),modelValue:e.data.instance.endMultiplicity.lower,"onUpdate:modelValue":a[21]||(a[21]=l=>e.data.instance.endMultiplicity.lower=l),modelModifiers:{number:!0},rules:[()=>e.getError({parameter:"endMultiplicity",child:{parameter:"lower"}})??!0],density:"comfortable",type:"number"},null,8,["label","modelValue","rules"])]),_:1})]),_:1},8,["title"])]),_:1})]),_:1})]),_:1})):(u(),E(w,{key:4},[e.getError({parameter:"startPoint"})?(u(),E("p",ze,N(e.t(e.getError({parameter:"startPoint"})??"error.unknown")),1)):e.getError({parameter:"endPoint"})?(u(),E("p",Fe,N(e.t(e.getError({parameter:"endPoint"})??"error.unknown")),1)):k("",!0)],64))],64)):e.data.instance instanceof e.ConnectionPoint&&(e.data.instance.parent instanceof e.Aggregation||e.data.instance.parent instanceof e.Association||e.data.instance.parent instanceof e.Composition)?(u(),E(w,{key:2},[e.data.instance.isStartPoint?(u(),E(w,{key:0},[e.getError({parameter:"startPoint"})?(u(),E("p",je,N(e.t(e.getError({parameter:"startPoint"})??"error.unknown")),1)):k("",!0),t(o,{label:e.t("name"),modelValue:e.data.instance.parent.startName,"onUpdate:modelValue":a[22]||(a[22]=l=>e.data.instance.parent.startName=l),modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"startName"})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","rules"]),e.data.instance.parent.startName?(u(),U(m,{key:1,title:e.t("label_offset"),variant:"tonal",density:"compact"},{default:n(()=>[t(b,null,{default:n(()=>[t(o,{label:"x",modelValue:e.data.instance.parent.startNameOffset.x,"onUpdate:modelValue":a[23]||(a[23]=l=>e.data.instance.parent.startNameOffset.x=l),modelModifiers:{number:!0},rules:[()=>e.getError({parameter:"startNameOffset",child:{parameter:"x"}})??!0],density:"comfortable",type:"number"},null,8,["modelValue","rules"]),t(o,{label:"y",modelValue:e.data.instance.parent.startNameOffset.y,"onUpdate:modelValue":a[24]||(a[24]=l=>e.data.instance.parent.startNameOffset.y=l),modelModifiers:{number:!0},rules:[()=>e.getError({parameter:"startNameOffset",child:{parameter:"y"}})??!0],density:"comfortable",type:"number"},null,8,["modelValue","rules"])]),_:1})]),_:1},8,["title"])):k("",!0),e.data.instance.parent instanceof e.Aggregation?(u(),U(d,{key:2,density:"compact",label:e.t("shared"),modelValue:e.data.instance.parent.isStartShared,"onUpdate:modelValue":a[25]||(a[25]=l=>e.data.instance.parent.isStartShared=l)},null,8,["label","modelValue"])):e.data.instance.parent instanceof e.Association?(u(),U(T,{key:3,label:e.t("navigability.title"),modelValue:e.data.instance.parent.startNavigability,"onUpdate:modelValue":a[26]||(a[26]=l=>e.data.instance.parent.startNavigability=l),density:"comfortable",items:[{title:e.t("navigability.unspecified"),value:e.AssociationNavigability.UNSPECIFIED},{title:e.t("navigability.navigable"),value:e.AssociationNavigability.NAVIGABLE},{title:e.t("navigability.unnavigable"),value:e.AssociationNavigability.UNNAVIGABLE}]},null,8,["label","modelValue","items"])):k("",!0),t(m,{title:e.t("multiplicity"),variant:"tonal",density:"compact"},{default:n(()=>[t(b,null,{default:n(()=>[t(o,{label:e.t("multiplicity_upper"),modelValue:e.data.instance.parent.startMultiplicity.upper,"onUpdate:modelValue":a[27]||(a[27]=l=>e.data.instance.parent.startMultiplicity.upper=l),modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"startMultiplicity",child:{parameter:"upper"}})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","rules"]),t(o,{label:e.t("multiplicity_lower"),modelValue:e.data.instance.parent.startMultiplicity.lower,"onUpdate:modelValue":a[28]||(a[28]=l=>e.data.instance.parent.startMultiplicity.lower=l),modelModifiers:{number:!0},rules:[()=>e.getError({parameter:"startMultiplicity",child:{parameter:"lower"}})??!0],density:"comfortable",type:"number"},null,8,["label","modelValue","rules"])]),_:1})]),_:1},8,["title"])],64)):e.data.instance.isEndpoint?(u(),E(w,{key:1},[e.getError({parameter:"endPoint"})?(u(),E("p",We,N(e.t(e.getError({parameter:"endPoint"})??"error.unknown")),1)):k("",!0),t(o,{label:e.t("name"),modelValue:e.data.instance.parent.endName,"onUpdate:modelValue":a[29]||(a[29]=l=>e.data.instance.parent.endName=l),modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"endName"})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","rules"]),e.data.instance.parent.endName?(u(),U(m,{key:1,title:e.t("label_offset"),variant:"tonal",density:"compact"},{default:n(()=>[t(b,null,{default:n(()=>[t(o,{label:"x",modelValue:e.data.instance.parent.endNameOffset.x,"onUpdate:modelValue":a[30]||(a[30]=l=>e.data.instance.parent.endNameOffset.x=l),modelModifiers:{number:!0},rules:[()=>e.getError({parameter:"endNameOffset",child:{parameter:"x"}})??!0],density:"comfortable",type:"number"},null,8,["modelValue","rules"]),t(o,{label:"y",modelValue:e.data.instance.parent.endNameOffset.y,"onUpdate:modelValue":a[31]||(a[31]=l=>e.data.instance.parent.endNameOffset.y=l),modelModifiers:{number:!0},rules:[()=>e.getError({parameter:"endNameOffset",child:{parameter:"y"}})??!0],density:"comfortable",type:"number"},null,8,["modelValue","rules"])]),_:1})]),_:1},8,["title"])):k("",!0),e.data.instance.parent instanceof e.Aggregation?(u(),U(d,{key:2,density:"compact",label:e.t("shared"),modelValue:e.data.instance.parent.isEndShared,"onUpdate:modelValue":a[32]||(a[32]=l=>e.data.instance.parent.isEndShared=l)},null,8,["label","modelValue"])):e.data.instance.parent instanceof e.Association?(u(),U(T,{key:3,label:e.t("navigability.title"),modelValue:e.data.instance.parent.endNavigability,"onUpdate:modelValue":a[33]||(a[33]=l=>e.data.instance.parent.endNavigability=l),density:"comfortable",items:[{title:e.t("navigability.unspecified"),value:e.AssociationNavigability.UNSPECIFIED},{title:e.t("navigability.navigable"),value:e.AssociationNavigability.NAVIGABLE},{title:e.t("navigability.unnavigable"),value:e.AssociationNavigability.UNNAVIGABLE}]},null,8,["label","modelValue","items"])):k("",!0),t(m,{title:e.t("multiplicity"),variant:"tonal",density:"compact"},{default:n(()=>[t(b,null,{default:n(()=>[t(o,{label:e.t("multiplicity_upper"),modelValue:e.data.instance.parent.endMultiplicity.upper,"onUpdate:modelValue":a[34]||(a[34]=l=>e.data.instance.parent.endMultiplicity.upper=l),modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"endMultiplicity",child:{parameter:"upper"}})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","rules"]),t(o,{label:e.t("multiplicity_lower"),modelValue:e.data.instance.parent.endMultiplicity.lower,"onUpdate:modelValue":a[35]||(a[35]=l=>e.data.instance.parent.endMultiplicity.lower=l),modelModifiers:{number:!0},rules:[()=>e.getError({parameter:"endMultiplicity",child:{parameter:"lower"}})??!0],density:"comfortable",type:"number"},null,8,["label","modelValue","rules"])]),_:1})]),_:1},8,["title"])],64)):k("",!0)],64)):e.data.instance instanceof e.ConnectionPoint&&e.data.instance.parent instanceof e.Generalization?(u(),E(w,{key:3},[e.data.instance.isStartPoint?(u(),E(w,{key:0},[e.getError({parameter:"startPoint"})?(u(),E("p",Ye,N(e.t(e.getError({parameter:"startPoint"})??"error.unknown")),1)):k("",!0)],64)):e.data.instance.isEndpoint?(u(),E(w,{key:1},[e.getError({parameter:"endPoint"})?(u(),E("p",Ke,N(e.t(e.getError({parameter:"endPoint"})??"error.unknown")),1)):k("",!0)],64)):k("",!0)],64)):k("",!0)]),_:1})]),_:1},8,["title"])],64)}const Je=j(Le,[["render",Xe],["__scopeId","data-v-90a7d44e"]]),Ze=W({props:{enumerationData:{type:Object,required:!0}},emits:["save"],setup(e,{emit:a}){const{t:C}=F(),r=D(e.enumerationData);let M=[];return h(()=>e.enumerationData,c=>{r.value=c},{immediate:!0}),h(r,c=>{c&&(M=c.instance.validate())},{immediate:!0,deep:!0}),{t:C,data:r,addValue:()=>{r.value.instance.values.push("")},removeValue:c=>{r.value.instance.values.splice(c,1)},onSave:()=>{a("save",r.value)},getError:c=>{if(r.value===null||r.value.type!=="enumeration")return null;const d=Y(M,c);return d?C(d):null}}}}),He={class:"list-form"};function Qe(e,a,C,r,M,f){const o=v("v-text-field"),p=v("v-expansion-panel-text"),y=v("v-expansion-panel"),c=v("v-btn");return u(),E(w,null,[t(y,{title:e.t("appearance")},{default:n(()=>[t(p,null,{default:n(()=>[t(o,{label:"x",modelValue:e.data.instance.x,"onUpdate:modelValue":a[0]||(a[0]=d=>e.data.instance.x=d),modelModifiers:{number:!0},density:"comfortable",type:"number"},null,8,["modelValue"]),t(o,{label:"y",modelValue:e.data.instance.y,"onUpdate:modelValue":a[1]||(a[1]=d=>e.data.instance.y=d),modelModifiers:{number:!0},density:"comfortable",type:"number"},null,8,["modelValue"])]),_:1})]),_:1},8,["title"]),t(y,{title:e.t("detail",2)},{default:n(()=>[t(p,null,{default:n(()=>[t(o,{label:e.t("name"),modelValue:e.data.instance.name,"onUpdate:modelValue":a[2]||(a[2]=d=>e.data.instance.name=d),modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"name"})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","rules"])]),_:1})]),_:1},8,["title"]),t(y,{title:e.t("value",2)},{default:n(()=>[t(p,null,{default:n(()=>[O("div",He,[(u(!0),E(w,null,Q(e.data.instance.values,(d,b)=>(u(),E(w,{key:b},[t(o,{label:`${e.t("value")} ${b+1}`,modelValue:e.data.instance.values[b],"onUpdate:modelValue":m=>e.data.instance.values[b]=m,modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"values",index:b})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","onUpdate:modelValue","rules"]),t(c,{class:"rm-btn",density:"comfortable",onClick:m=>e.removeValue(b),icon:"mdi-close",rounded:"0"},null,8,["onClick"])],64))),128))]),t(c,{density:"compact",block:"",onClick:e.addValue,icon:"mdi-plus",rounded:"0"},null,8,["onClick"])]),_:1})]),_:1},8,["title"])],64)}const _e=j(Ze,[["render",Qe],["__scopeId","data-v-74e786ea"]]),xe=W({props:{primitiveData:{type:Object,required:!0}},emits:["save"],setup(e,{emit:a}){const{t:C}=F(),r=D(e.primitiveData);let M=[];return h(()=>e.primitiveData,p=>{r.value=p},{immediate:!0}),h(r,p=>{p&&(M=p.instance.validate())},{immediate:!0,deep:!0}),{t:C,data:r,onSave:()=>{a("save",r.value)},getError:p=>{if(r.value===null||r.value.type!=="primitive")return null;const y=Y(M,p);return y?C(y):null}}}});function et(e,a,C,r,M,f){const o=v("v-text-field"),p=v("v-expansion-panel-text"),y=v("v-expansion-panel");return u(),E(w,null,[t(y,{title:e.t("appearance")},{default:n(()=>[t(p,null,{default:n(()=>[t(o,{label:"x",modelValue:e.data.instance.x,"onUpdate:modelValue":a[0]||(a[0]=c=>e.data.instance.x=c),modelModifiers:{number:!0},density:"comfortable",type:"number"},null,8,["modelValue"]),t(o,{label:"y",modelValue:e.data.instance.y,"onUpdate:modelValue":a[1]||(a[1]=c=>e.data.instance.y=c),modelModifiers:{number:!0},density:"comfortable",type:"number"},null,8,["modelValue"])]),_:1})]),_:1},8,["title"]),t(y,{title:e.t("detail",2)},{default:n(()=>[t(p,null,{default:n(()=>[t(o,{label:e.t("name"),modelValue:e.data.instance.name,"onUpdate:modelValue":a[2]||(a[2]=c=>e.data.instance.name=c),modelModifiers:{trim:!0},rules:[()=>e.getError({parameter:"name"})??!0],density:"comfortable",type:"text"},null,8,["label","modelValue","rules"])]),_:1})]),_:1},8,["title"])],64)}const tt=j(xe,[["render",et],["__scopeId","data-v-ec6a09a0"]]),at={components:{ConnectionEditorPanel:Je,CommentEditorPanel:Re,EnumerationEditorPanel:_e,ClassifierEditorPanel:$e,PrimitiveEditorPanel:tt},computed:{NodeType(){return Ue},UmlEditorTool(){return I}},setup(){const{t:e}=F(),{settings:a}=Pe(),C=Oe("triggerService"),r=D(null),M=D(null),f=D(null),o=D(null),p=D(null),y=D(100),c=D(1100),d=D(100),b=D(!1);let m;Ne(()=>{if(M.value===null){console.error("UmlEditorService can't be mounted");return}const i=localStorage.getItem("file"),q=M.value;if(m=new Ce(q,new Me(q,a.renderer)),p.value=m.tool,window.addEventListener("resize",()=>A(q)),A(q),window.addEventListener("keydown",re),m.emitter.on("mouseDown",P=>{!(P instanceof Se)&&P!==null||g(P)}),m.emitter.on("toolChange",P=>{P===null||typeof P=="object"||!(P in I)||(p.value=P)}),m.emitter.on("scaleChange",P=>{typeof P=="number"&&(y.value=Math.round(P*100))}),i){const P=JSON.parse(i);m.nodes=we.batchDeserialize(P)}C==null||C.register("refreshEditor",se)}),Ae(()=>{const i=M.value;window.removeEventListener("resize",()=>A(i)),window.removeEventListener("keydown",re),C==null||C.unregister("refreshEditor",se)});const A=i=>{const q=i.parentElement,{width:P,height:K}=q.getBoundingClientRect(),L=window.devicePixelRatio||1;if(i.width!==P*L||i.height!==K*L){i.width=P*L,i.height=K*L;const G=i.getContext("2d");G==null||G.scale(L,L),m.render()}},T=i=>{b.value=!0;const q=i.clientX,P=c.value,K=d.value,L=ve=>{if(b.value){if(M.value===null){console.error("UmlEditorService can't be mounted");return}const ue=ve.clientX-q;c.value=Math.max(200,P+ue),d.value=Math.max(200,K-ue),A(M.value)}},G=()=>{b.value=!1,window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",G)};window.addEventListener("mousemove",L),window.addEventListener("mouseup",G)},R=()=>{r.value&&r.value.onSave()},l=i=>{if(f.value===null||i===null){console.error("Cannot save: no selected node");return}if(i.type==="classifier"&&f.value instanceof de||i.type==="primitive"&&f.value instanceof X||i.type==="comment"&&f.value instanceof Z||i.type==="connection"&&(f.value instanceof me||f.value instanceof z||f.value instanceof te)||i.type==="enumeration"&&f.value instanceof J){f.value instanceof ee&&i.instance instanceof ee||f.value instanceof pe&&i.instance instanceof pe||f.value instanceof x&&i.instance instanceof x||f.value instanceof X&&i.instance instanceof X||f.value instanceof J&&i.instance instanceof J||f.value instanceof Z&&i.instance instanceof Z||f.value instanceof le&&i.instance instanceof le||f.value instanceof ne&&i.instance instanceof ne||f.value instanceof ae&&i.instance instanceof ae||f.value instanceof oe&&i.instance instanceof oe||f.value instanceof z&&i.instance instanceof z||f.value instanceof fe&&i.instance instanceof fe||f.value instanceof ie&&i.instance instanceof ie?f.value.copy(i.instance):console.error("Not matching node types"),m.render(),g(f.value);return}console.error("Unknown or not matching node types")},V=()=>{m.scale=y.value/100},s=()=>{m.resetScaling()},g=i=>{if(f.value=i,i===null){o.value=null;return}i instanceof de?o.value={type:"classifier",instance:i.clone()}:i instanceof X?o.value={type:"primitive",instance:i.clone()}:i instanceof J?o.value={type:"enumeration",instance:i.clone()}:i instanceof Z?o.value={type:"comment",instance:i.clone()}:(i instanceof me||i instanceof z||i instanceof te)&&(o.value={type:"connection",instance:i.clone()})},S=i=>{switch(m.tool=i,i){case I.EDIT:g(m.selectedNode);break;case I.MOVE:o.value={type:"editor"};break;case I.ADD:o.value={type:"addOption",instance:m.addConfig};break;case I.REMOVE:o.value=null;break}},re=i=>{if(i.ctrlKey)switch(i.key){case"m":i.preventDefault(),i.stopPropagation(),S(I.MOVE);break;case"e":i.preventDefault(),i.stopPropagation(),S(I.EDIT);break;case"c":i.preventDefault(),i.stopPropagation(),S(I.ADD);break;case"r":i.preventDefault(),i.stopPropagation(),S(I.REMOVE);break}},se=i=>{!i&&!m||(m.nodes=i,m.render())};return{umlCanvas:M,data:o,scale:y,tool:p,canvasWidth:c,editorWidth:d,childEditorPanel:r,startResize:T,requestSave:R,onSave:l,onToolSelected:S,onScaleSet:V,onScaleReset:s,requestRender:()=>{m.render(),g(null)},t:e}}},lt={class:"editor-container"},nt={id:"tools"},ot={id:"main-container"},it={class:"half-half-grid"};function rt(e,a,C,r,M,f){const o=v("v-btn"),p=v("v-tooltip"),y=v("v-text-field"),c=v("v-expansion-panel-text"),d=v("v-expansion-panel"),b=v("ClassifierEditorPanel"),m=v("PrimitiveEditorPanel"),A=v("EnumerationEditorPanel"),T=v("CommentEditorPanel"),R=v("ConnectionEditorPanel"),l=v("v-select"),V=v("v-checkbox"),s=v("v-expansion-panels");return u(),E("div",lt,[O("div",nt,[t(p,null,{activator:n(({props:g})=>[t(o,H({onClick:a[0]||(a[0]=S=>e.onToolSelected(e.UmlEditorTool.EDIT)),class:{active:e.tool===e.UmlEditorTool.EDIT}},g,{icon:"mdi-pencil",density:"comfortable",rounded:"0"}),null,16,["class"])]),default:n(()=>[$(N(e.t("edit"))+" ",1)]),_:1}),t(p,null,{activator:n(({props:g})=>[t(o,H({onClick:a[1]||(a[1]=S=>e.onToolSelected(e.UmlEditorTool.MOVE)),class:{active:e.tool===e.UmlEditorTool.MOVE}},g,{icon:"mdi-cursor-move",density:"comfortable",rounded:"0"}),null,16,["class"])]),default:n(()=>[$(N(e.t("move"))+" ",1)]),_:1}),t(p,null,{activator:n(({props:g})=>[t(o,H({onClick:a[2]||(a[2]=S=>e.onToolSelected(e.UmlEditorTool.ADD)),class:{active:e.tool===e.UmlEditorTool.ADD}},g,{icon:"mdi-plus",density:"comfortable",rounded:"0"}),null,16,["class"])]),default:n(()=>[$(N(e.t("add"))+" ",1)]),_:1}),t(p,null,{activator:n(({props:g})=>[t(o,H({onClick:a[3]||(a[3]=S=>e.onToolSelected(e.UmlEditorTool.REMOVE)),class:{active:e.tool===e.UmlEditorTool.REMOVE}},g,{icon:"mdi-delete",density:"comfortable",rounded:"0"}),null,16,["class"])]),default:n(()=>[$(N(e.t("remove"))+" ",1)]),_:1})]),O("div",ot,[O("div",{id:"canvas",style:ye({flex:e.canvasWidth+"px"})},[O("canvas",{ref:"umlCanvas",class:B({"cursor-pointer":e.tool===e.UmlEditorTool.EDIT,"cursor-move":e.tool===e.UmlEditorTool.MOVE,"cursor-crosshair":e.tool===e.UmlEditorTool.ADD||e.tool===e.UmlEditorTool.REMOVE})},null,2)],4),O("div",{id:"divider",onMousedown:a[4]||(a[4]=(...g)=>e.startResize&&e.startResize(...g))},null,32),O("div",{id:"editor",style:ye({flex:e.editorWidth+"px"})},[t(s,{class:"editor-panels",variant:"accordion",multiple:""},{default:n(()=>[t(d,{title:e.t("navigation")},{default:n(()=>[t(c,null,{default:n(()=>[t(y,{label:e.t("scale"),modelValue:e.scale,"onUpdate:modelValue":a[5]||(a[5]=g=>e.scale=g),modelModifiers:{number:!0},density:"comfortable",type:"number"},null,8,["label","modelValue"]),O("div",it,[t(o,{density:"comfortable",onClick:e.onScaleSet},{default:n(()=>[$(N(e.t("set")),1)]),_:1},8,["onClick"]),t(o,{density:"comfortable",onClick:e.onScaleReset},{default:n(()=>[$(N(e.t("reset")),1)]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["title"]),e.data!==null&&"instance"in e.data&&"type"in e.data?(u(),E(w,{key:0},[e.data.type==="classifier"?(u(),U(b,{key:0,ref:"childEditorPanel",classifierData:e.data,onSave:e.onSave},null,8,["classifierData","onSave"])):e.data.type==="primitive"?(u(),U(m,{key:1,ref:"childEditorPanel",primitiveData:e.data,onSave:e.onSave},null,8,["primitiveData","onSave"])):e.data.type==="enumeration"?(u(),U(A,{key:2,ref:"childEditorPanel",enumerationData:e.data,onSave:e.onSave},null,8,["enumerationData","onSave"])):e.data.type==="comment"?(u(),U(T,{key:3,ref:"childEditorPanel",commentData:e.data,onSave:e.onSave},null,8,["commentData","onSave"])):e.data.type==="connection"?(u(),U(R,{key:4,ref:"childEditorPanel",connectionData:e.data,onSave:e.onSave,onRender:e.requestRender},null,8,["connectionData","onSave","onRender"])):e.data.type==="addOption"?(u(),U(d,{key:5,title:e.t("option",2)},{default:n(()=>[t(c,null,{default:n(()=>[t(l,{label:e.t("type"),modelValue:e.data.instance.type,"onUpdate:modelValue":a[6]||(a[6]=g=>e.data.instance.type=g),density:"comfortable",items:[{title:e.t("node_types.class"),value:e.NodeType.CLASS},{title:e.t("node_types.interface"),value:e.NodeType.INTERFACE},{title:e.t("node_types.datatype"),value:e.NodeType.DATATYPE},{title:e.t("node_types.primitive"),value:e.NodeType.PRIMITIVE},{title:e.t("node_types.enumeration"),value:e.NodeType.ENUMERATION},{title:e.t("node_types.comment"),value:e.NodeType.COMMENT},{title:e.t("node_types.connection.aggregation"),value:e.NodeType.AGGREGATION},{title:e.t("node_types.connection.association"),value:e.NodeType.ASSOCIATION},{title:e.t("node_types.connection.composition"),value:e.NodeType.COMPOSITION},{title:e.t("node_types.connection.generalization"),value:e.NodeType.GENERALIZATION}]},null,8,["label","modelValue","items"]),t(V,{density:"compact",label:e.t("keep_adding"),modelValue:e.data.instance.keepAdding,"onUpdate:modelValue":a[7]||(a[7]=g=>e.data.instance.keepAdding=g)},null,8,["label","modelValue"])]),_:1})]),_:1},8,["title"])):k("",!0)],64)):k("",!0)]),_:1}),e.childEditorPanel?(u(),U(o,{key:0,class:"save-btn",block:"",onClick:e.requestSave},{default:n(()=>[$(N(e.t("save")),1)]),_:1},8,["onClick"])):k("",!0)],4)])])}const ut=j(at,[["render",rt],["__scopeId","data-v-fe1b839d"]]);export{ut as default};
